<%- include('header') %>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <%- include('nav_bar') %>
        <!-- Main Site -->
        <div class="form-title text-center">
            <h2 class="text-dark  mx-6 my-4 m-5 pb-5 "><h1>All Course</h1></h2>
        </div>
    <br>
    <div id="empty-table-display" class="text-center">
        <h3>No Course Available</h3>
        <a href="/form"><button class="btn btn-outline-success" type="submit">Add Course</button></a>
    </div>

    <% if (Course.length !== 0) { %>
        <script>
            document.getElementById("empty-table-display").style.display = "none";
        </script>
        <% } %>
                            
                <main id="site-main">
                        <div class="container h-100">
                            <div class="row h-100 justify-content-center align-items-center">
                                <div class="col-10 col-md-8 col-lg-6 m-5 pb-5">
                    <!-- form handling -->
                        <form action="/" method="post">
                            <div id="course-table">
                            <table class="table">
                                <thead class="thred-dark">
                                    <tr>

                                        <th scope="col">Course-Name</th>
                                        <th scope="col">Course-Duration(Hrs)</th>
                                        <th scope="col">Course-Fees(INR)</th>
                                        <!-- <th scope="col">action</th> -->
                                        <th scope="col">Edit</th>
                                        <th scope="col">Delete</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                    <% for(var i = 0; i< Course.length; i++) {%>  
                                        <tr>
                                          <td><%= Course[i].name%></td>
                                          <td><%= Course[i].duration%></td>
                                          <td><%= Course[i].fees%></td>
                                          <% console.log(Course[i].id) %>
                                          <td><a href="/update-course/<%= Course[i].id %>" class="btn border-shadow update">
                                            <span class="text-gradient"><i class="fas fa-pencil-alt"></i></span>
                                        </a></td>
                                        <td>
                                            <a href="/delete/<%= Course[i].id %>" class="btn border-shadow update"
                                           onclick="return confirm('Are you sure you want to delete this record?')">
                                           <span class="text-gradient"><i class="fas fa-times"></i></span></a>
                                          </td> 
                                        </tr>
                                    <% } %>
                                </tbody>
                            </table>
                        </div>
                     </form>
                     <% if(Course.length === 0) { %>
                        <script>
                            document.getElementById("course-table").style.display = "none";
                        </script>
                        <%}%>
                    </div> 
                    </div>
                    </div>
                </main>

        <!-- /Main Site -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        
    </body>
    </html>

<%- include('footer') %>
